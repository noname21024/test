{% extends 'base.html' %}
{% block content %}
<style>
    .user-page-container {
    max-width: 70rem;
    width: 100%;
    margin: 0 auto;
    padding: 10px;
}

.user-infomation{
    display: grid;
    grid-template-columns: 1fr 2fr;
    column-gap: 1rem;
    background-color: white;
    margin-bottom: 2.5rem;
}

.sidebar-of-user-page .user-image {
    display: flex;
    column-gap: 10px;
    padding: 10px 10px 0 10px;
    background-color: rgb(54, 53, 53);
    color: var(--text--color);
    align-items: center; 
    font-size: 15px;   
    line-height: 1.2rem;
    justify-content: space-between;
    
}
.sidebar-of-user-page .user-image .image-of-user-in-userpage img{
    width: 100px;
    height: 100px;
    object-fit: cover;
}

.user-name-of-userpage p{
    color: rgb(219, 213, 213);

}
.user-name-of-userpage span {
    text-transform: uppercase;
    font-weight: 500;
    color: white
}

.user-infomation .collapse-button button{
    background: none;
    border: none;
    font-size: 1rem;
    color: var(--text--color);
    cursor: pointer;
}

.sidebar-items-of-userpage {
    background-color: rgb(216, 216, 216);

}


.sidebar-items-of-userpage a{
    padding: 10px;
    display: block;
    color: var(--font-color);
    transition: all 150ms ease-in-out;
}

.sidebar-items-of-userpage a i {
    margin-right: 8px;
}

.sidebar-items-of-userpage a:hover {
    background-color: rgb(177, 175, 175);
}
 
/* thong tin tai khoan */

.infomation-box-items .account-info .account-info-header {
    padding: 10px;
    display: flex;
    justify-content: space-between;
    border-left: 4px red solid;
    align-items: center;
    margin-bottom: 1rem;
}

.account-info-header p{
    font-size: 1.1rem;
}

.account-info-header a {
    font-size: 13px;
    color: var(--font-color);
}

.account-info-header a:hover {
    color: rgb(163, 30, 163);
    text-decoration: underline;
}

.account-info {
    margin-bottom: 1rem;
}

.account-info-items-box {
    border: 1px gray solid;
    border-radius: 10px;
    padding: 10px;   
}

.account-info-items-box .info{
    display: grid;
    grid-template-columns: 1fr 3fr;
    font-size: 15px;
    line-height: 1.6rem;
    align-items: center;
}

.created-time-user .time {
    font-style: italic;
    font-size: 14px;
}



.story-follow .story-follow-header{
    padding: 10px;
    display: flex;
    justify-content: space-between;
    border-left: 4px red solid;
    align-items: center;
    margin-bottom: 10px;
}   

.story-follow-header p {
    font-size: 1.1rem;
}

.story-follow-header a {
    font-size: 13px;
    color: var(--font-color);
}
.story-follow-header a:hover {
    color: rgb(163, 30, 163);
    text-decoration: underline;
}

.story-now-follow .story-now-follow-header {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    text-align: center;
    background-color: rgb(54, 53, 53);
    color: var(--text--color);
    padding: 10px;
    text-transform: uppercase;
    font-size: 14px;
    font-weight: 500;
    color: white
    
}
.story-now-follow {
    padding: 10px;
}


.story-now-follow-items{
    display: grid;
    grid-template-columns: 2fr 1fr 1fr;
    text-align: center;
    padding: 10px;
    border-bottom: 1px gray solid;
}

.manga-infomation-of-userpage {
    display: flex;
    column-gap: 10px;
}

.manga-infomation-of-userpage .items-name-and-unfollow a {
    font-size: 15px;
    color: var(--font-color);
    font-weight: 500;
}
.manga-infomation-of-userpage .items-name-and-unfollow {
    display: flex;
    flex-direction: column;
    align-items: start;
    row-gap: 6px;
}

.manga-infomation-of-userpage .items-name-and-unfollow button {
    color: red;
    background: none;
    border: none;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;

}

.manga-infomation-of-userpage .items-name-and-unfollow a:hover {
    color: rgb(156, 28, 156);
    text-decoration: underline;
}


.manga-infomation-of-userpage .manga-image-in-userpage{
    width: 70px;
    height: 70px;
}

.manga-infomation-of-userpage .manga-image-in-userpage img {
    width: 100%;
    height: 100%;
    object-fit:cover;
}

.chapter-is-reading a{
    color: var(--font-color);
    text-transform: capitalize;
    font-size: 15px;
}

.chapter-is-reading a:hover{
    color: rgb(156, 28, 156);
    text-decoration: underline;
}

.chapter-is-reading p {
    font-size: 14px;
    font-style: italic;
    margin-top: 3px;
}

.latest-chapter a{
color: var(--font-color);
text-transform: capitalize;
font-size: 15px;
}

.latest-chapter a:hover{
    color: rgb(156, 28, 156);
    text-decoration: underline;
}

.latest-chapter p {
    font-size: 14px;
    font-style: italic;
    margin-top: 3px;
}

@media(max-width: 800px){
    .user-infomation {
        display: flex;
        flex-direction: column;
    }


}
</style>

{% if messages %}
<div class="notification-render"  style="max-width: 70rem;
margin: 0 auto;
width: 100%;">
    {% for message in messages %}
        <div class = "alert alert-{{message.tags}}">
            {{message}}
        </div>
    {% endfor %}
</div>
{% endif %}
<div class="user-page-container">
        <div class="user-infomation">
            <div class="sidebar-of-user-page">
                <div class="user-image">
                    <div class="image-of-user-in-userpage">
                        <img src="{{user.profile.image.url}}" alt="">
                    </div>
                    <div class="user-name-of-userpage">
                        <p>Tài khoản của</p><span>
                            {{user.username}}
                        </span>
                    </div>
                    <div class="collapse-button">
                        <button>
                            <i class="fas fa-angle-down"></i>
                        </button>
                    </div>
                </div>
                <div class="sidebar-items-of-userpage">
                    <div class="general-information">
                        <a href="{% url 'user-page' %}"><i class="fas fa-info-circle"></i>Thông tin chung</a>
                    </div>
                    <div class="account-information">
                        <a href="{% url 'change-infor' %}"><i class="far fa-address-card"></i>Thông tin tài khoản</a>
                    </div>
                    <div class="story-is-following">
                        <a href="{% url 'following-page-user' %}"><i class="fas fa-bookmark"></i>Truyện đang theo dõi</a>
                    </div>
                    <div class="story-is-following">
                        <a href="{% url 'history-user-page' %}"><i class="fas fa-bookmark"></i>Lịch sử xem</a>
                    </div>
                    <div class="notification">
                        <a href=""><i class="fas fa-bell"></i>Thông báo</a>
                    </div>
                    <div class="logout">
                        <a href="{% url 'logout' %}"><i class="fas fa-sign-out-alt"></i>Đăng xuất</a>
                    </div>
                </div>
            </div>

            {% block user_content %}
            
            {% endblock %}
           
        </div>
    </div>
    <script>
        let uploadButton = document.getElementById('uploadimage');
        let choose_image = document.getElementById('choose-image');

        uploadButton.onchange = () => {
            let reader = new FileReader();
            reader.readAsDataURL(uploadButton.files[0]);
            console.log(uploadButton.files[0]);
            reader.onload = () => {
                choose_image.setAttribute('src', reader.result);
            }
        }
    </script>
{% endblock %}
